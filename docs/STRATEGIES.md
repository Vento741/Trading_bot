# Торговые стратегии

## Общий обзор

Все стратегии оптимизированы для скальпинга и краткосрочной торговли на криптовалютных рынках.
Среднее время удержания позиции: 1-3 минуты.
Целевая прибыль: 0.1-0.5% за сделку.

## 1. OrderBook Imbalance (Дисбаланс книги ордеров)

### Принцип работы

Стратегия отслеживает существенные дисбалансы между объемами покупок и продаж в стакане, которые часто предшествуют движению цены.

### Ключевые параметры

```python
{
    'min_imbalance_ratio': 3.0,     # Минимальный коэффициент дисбаланса
    'large_order_threshold': 100.0,  # Порог для крупного ордера (BTC)
    'min_spread': 0.0005,           # Минимальный спред (0.05%)
    'take_profit_pct': 0.002,       # Take Profit (0.2%)
    'stop_loss_pct': 0.001,         # Stop Loss (0.1%)
    'max_hold_time': 120            # Максимальное время удержания (2 мин)
}
```

### Условия входа

1. Дисбаланс объемов bid/ask > 3:1
2. Наличие крупного ордера (>100 BTC)
3. Спред > 0.05%
4. Достаточная ликвидность (>500 BTC в стакане)

### Ожидаемые результаты

- Win Rate: 65-75%
- Profit Factor: 1.5-2.0
- Средняя прибыль: 0.15-0.25% за сделку
- Ожидаемое количество сделок: 100-150 в день

## 2. Price Action с импульсным движением

### Принцип работы

Стратегия идентифицирует резкие движения цены с подтверждением объемом и торгует на откатах.

### Ключевые параметры

```python
{
    'min_impulse_pct': 0.003,      # Минимальное движение цены (0.3%)
    'volume_threshold': 2.0,        # Увеличение объема в x раз
    'retracement_min': 0.3,        # Минимальный откат (30%)
    'retracement_max': 0.5,        # Максимальный откат (50%)
    'take_profit_pct': 0.003,      # Take Profit (0.3%)
    'stop_loss_pct': 0.002,        # Stop Loss (0.2%)
    'max_hold_time': 60            # Максимальное время удержания (1 мин)
}
```

### Условия входа

1. Импульсное движение >0.3% за 10 секунд
2. Объем в 2+ раза выше среднего
3. Откат 30-50% от импульса
4. Подтверждение тренда на младшем таймфрейме

### Ожидаемые результаты

- Win Rate: 60-70%
- Profit Factor: 1.4-1.8
- Средняя прибыль: 0.2-0.3% за сделку
- Ожидаемое количество сделок: 50-80 в день

## 3. Межбиржевой арбитраж

### Принцип работы

Стратегия отслеживает расхождения цен между биржами и торгует на их схождении.

### Ключевые параметры

```python
{
    'min_spread_pct': 0.002,         # Минимальный спред (0.2%)
    'min_liquidity': 200.0,          # Минимальная ликвидность (BTC)
    'correlation_threshold': 0.8,     # Минимальная корреляция
    'take_profit_pct': 0.001,        # Take Profit (0.1%)
    'stop_loss_pct': 0.0008,         # Stop Loss (0.08%)
    'max_hold_time': 30              # Максимальное время удержания (30 сек)
}
```

### Условия входа

1. Расхождение цен >0.2% между парами
2. Высокая корреляция инструментов (>0.8)
3. Достаточная ликвидность на обеих сторонах
4. Стабильное исполнение на обеих биржах

### Ожидаемые результаты

- Win Rate: 75-85%
- Profit Factor: 1.6-2.2
- Средняя прибыль: 0.1-0.15% за сделку
- Ожидаемое количество сделок: 200-300 в день

## 4. Volume Impulse (Импульс объема)

### Принцип работы

Стратегия фокусируется на резких всплесках объема, которые часто предшествуют продолжению движения цены.

### Ключевые параметры

```python
{
    'volume_threshold': 2.5,           # Множитель объема
    'price_change_threshold': 0.002,   # Минимальное изменение цены (0.2%)
    'consolidation_periods': 5,        # Периоды консолидации
    'take_profit_pct': 0.003,         # Take Profit (0.3%)
    'stop_loss_pct': 0.002,           # Stop Loss (0.2%)
    'max_hold_time': 180              # Максимальное время удержания (3 мин)
}
```

### Условия входа

1. Всплеск объема в 2.5+ раза выше среднего
2. Движение цены >0.2% в направлении объема
3. Предшествующая консолидация
4. Подтверждение тренда

### Ожидаемые результаты

- Win Rate: 55-65%
- Profit Factor: 1.3-1.7
- Средняя прибыль: 0.25-0.35% за сделку
- Ожидаемое количество сделок: 30-50 в день

## Комбинированные стратегии

### 1. Impulse + Imbalance

Комбинирует сигналы импульса цены с подтверждением дисбаланса в стакане.

#### Ожидаемые результаты

- Win Rate: 70-80%
- Profit Factor: 1.8-2.4
- Средняя прибыль: 0.3-0.4% за сделку
- Ожидаемое количество сделок: 40-60 в день

### 2. Arbitrage + Volume

Арбитраж с подтверждением объемом на одной из бирж.

#### Ожидаемые результаты

- Win Rate: 80-90%
- Profit Factor: 2.0-2.6
- Средняя прибыль: 0.15-0.2% за сделку
- Ожидаемое количество сделок: 100-150 в день

## Риск-менеджмент

### Общие правила

1. Максимальный размер позиции: 5% от портфеля
2. Максимальный общий риск: 15% от портфеля
3. Максимальная просадка: 40%
4. Пауза после 10 убыточных сделок подряд
5. Дневной лимит потерь: 5%

### Рекомендации по использованию

1. Начинать с малых объемов (1-2% от портфеля)
2. Тестировать на демо-счете минимум 2 недели
3. Использовать комбинации стратегий для диверсификации
4. Регулярно оптимизировать параметры (раз в неделю)
5. Отслеживать метрики производительности

## Оптимизация

Для каждой стратегии доступны инструменты оптимизации параметров:

```bash
python scripts/optimize.py --strategy [strategy_name] --symbol [symbol] --timeframe [timeframe]
```

## Мониторинг производительности

Все стратегии отправляют метрики в Prometheus и доступны для анализа в Grafana:

- Win Rate
- Profit Factor
- Average Trade Duration
- Volume Profile
- Execution Quality
- Slippage Statistics
